{% extends 'supervisorbase.html' %}
{% block title %}VITB Supervisor Portal{% endblock title %}
{% block body %}

  <h1 class="my-4 text-center"> All complaints are displayed below. </h1>
<div style="width: 900px; margin-left: 15%;">
    {% if messages %}
              {% for message in messages %}
              <div class="alert alert-{{ message.tags }}" role="alert">
  {{ message }}
 </div>
              {% endfor %}
    {% endif %}
    <table class="table table-dark my-5  ">
  <thead>
    <tr>
      <th scope="col">Complain Id</th>
      <th scope="col">Student Name</th>
      <th scope="col">Registration Number</th>
        <th scope="col">Complain For</th>
      <th scope="col">Subject</th>
      <th scope="col">Description</th>

      <th scope="col">Hostel Name</th>
      <th scope="col">Hostel Block</th>
      <th scope="col">Room Number</th>

      <th scope="col">Hostel Block Supervisor</th>
        <th scope="col">Hostel Block Department Supervisor</th>
        <th  scope="col">Workers Assigned</th>

      <th scope="col">Supervisor Remark</th>
      <th scope="col">Action Taken </th>
      <th scope="col">Query resolve Date</th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
  {% for complain in complains %}
  <form method="POST" action="updateComplain" >
                      {% csrf_token %}
    <tr>
      <th><input type="hidden" name = "complainId" value="{{complain.id}}">{{complain.id}}</input></th>
      <th><input type="hidden" name = "complainId" value="{{complain.fullname}}">{{complain.fullname}}</input></th>
      <th><input type="hidden" name = "complainId" value="{{complain.regno}}">{{complain.regno}}</input></th>
      <th><input type="hidden" name = "complainId" value="{{complain.complainFor}}">{{complain.complainFor}}</input></th>
      <th><input type="hidden" name = "complainId" value="{{complain.sub}}">{{complain.sub}}</input></th>
      <th><input type="hidden" name = "complainId" value="{{complain.desc}}">{{complain.desc}}</input></th>
      <th><input type="hidden" name = "complainId" value="{{complain.hostelName}}">{{complain.hostelName}}</input></th>
      <th><input type="hidden" name = "complainId" value="{{complain.hostelBlock}}">{{complain.hostelBlock}}</input></th>
      <th><input type="hidden" name = "complainId" value="{{complain.roomNumber}}">{{complain.roomNumber}}</input></th>
      <th><input type="hidden" name = "complainId" value="{{complain.hostelBlockSupervisor}}">{{complain.hostelBlockSupervisor}}</input></th>
      <th><input type="hidden" name = "complainId" value="{{complain.hostelBlockDepartmentSupervisor}}">{{complain.hostelBlockDepartmentSupervisor}}</input></th>
      <th><input type="hidden" name = "complainId" value="{{complain.workerName}}">{{complain.workerName}}</input></th>

      <td>
          <input  name="status" value="{{complain.status}}"/>
      </td>
        <td>
          <select class="custom-select mr-sm-2" name="action"  id="inlineFormCustomSelect">
        <option value="{{complain.action}}">{{complain.action}}</option>
        <option value="Forwarded to Electrician">Electrician</option>
        <option value="Forwarded to Hostel Warden">Hostel Warden</option>
            <option value="Forwarded to Cleaning Staff">Cleaning Staff</option>
        <option value="Forwarded to Security">Security</option>
      </select>
      </td>
        <th><input type="date" name="complainId" value="{{complain.complainResolveDate}}"/></th>
      <td><button style="background-color:#4CAF50;border:none;color:white; "  type="submit">Update</button></td>
    </tr>
  </form>
  {% endfor %}
  </tbody>
</table>

</div>
{% endblock body %}